# quartz-task

## 接口文档

swagger2 ： http://127.0.0.1:8080/swagger-ui.html

## 项目模块信息

### 架构

![模块架构图](./info/img/20230909101804.png)

### 技术组成

- SpringBoot 2.0
- 数据库 Mysql 5.6
- 任务调度 Quartz
- 接口文档 Swagger 2
- 日志 Logback

### 功能

## Cron表达式样例

    每隔5秒执行一次：*/5 * * * * ?

    每隔1分钟执行一次：0 */1 * * * ?

    每天23点执行一次：0 0 23 * * ?

    每天凌晨1点执行一次：0 0 1 * * ?

    每月1号凌晨1点执行一次：0 0 1 1 * ?

    每月最后一天23点执行一次：0 0 23 L * ?

    每周星期天凌晨1点实行一次：0 0 1 ? * L

    在26分、29分、33分执行一次：0 26,29,33 * * * ?

    每天的0点、13点、18点、21点都执行一次：0 0 0,13,18,21 * * ?

    0 * 14 * * ? 在每天下午2点到2点59分每分钟执行一次

    0 0/5 14 * * ? 在每天下午2点到2点59分，每5分钟执行一次

    0 0/5 14,18 * * ? 在每天下午2点到2点59分和下午6点到6点59分，每5分钟执行一次

    0 0 12 * * ? 在每天中午12点执行一次

    0 15 10 ? * * 在每天上午10点15分执行一次

    0 45 23 ? * * 在每天晚上11点45分执行一次

## 待完成

- task任务创建时间 更新时间 ✅
- 补上代码注释 ✅
- 增加cron表达式合法性校验（添加和修改的时候需要校验合法性）✅
- 集成swagger在线接口文档 ✅
- 完善api在线接口文档 ✅
- 查内存任务信息 （拆分成详细信息查询 和 统计任务信息分别给出任务状态总数）
- 单次任务执行（只跑一次任务就结束）


## 一些思考🤔️

    关于单次执行任务 开启就放入内存 执行任务 跑完就从内存删除了 存入数据库有什么意义呢？

    关于数据库表 增加逻辑删除列？ 增加是否是单次任务、循环任务标识列 ？

    单次任务与循环任务 增删改可公用service层方法吗！？

    关于controller接口返回值参数设计 前端也做成管理 分别可以查到数据库中的任务和内存的任务（两个管理页面）

    关于db里数据量
        专利数据量亿级；机构、论文都是千万级数据量；新闻数据量是百万级 
        BTREE索引

    

    